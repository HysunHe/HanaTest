<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.oracle.oda.ext.dao.CategoryMapper">
	
	<select id="list" resultType="com.oracle.oda.ext.domains.Category" databaseId="mysql">
		SELECT 
			ID as id, 
			NAME as name,
			CREATED_AT as created_at,
			UPDATED_AT as updated_at
		FROM BOT_CATEGORIES
		ORDER BY CREATED_AT ASC
	</select>
	
	<select id="get" resultType="com.oracle.oda.ext.domains.Category" databaseId="mysql">
		SELECT 
			ID as id, 
			NAME as name,
			CREATED_AT as created_at,
			UPDATED_AT as updated_at
		FROM BOT_CATEGORIES
		WHERE NAME = #{name}
	</select>
		
	<insert id="save" parameterType="com.oracle.oda.ext.domains.Category" databaseId="mysql">
		REPLACE INTO BOT_CATEGORIES
		(
			ID,
			NAME,
			CREATED_AT,
			UPDATED_AT
		) VALUES (
			#{id},
			#{name},
			#{created_at},
			#{updated_at}
		)
	</insert>
	
	<delete id="deleteAll" databaseId="mysql">
		DELETE FROM BOT_CATEGORIES
	</delete>
</mapper>